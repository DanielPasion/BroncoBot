from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.options import Options
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.support.ui import WebDriverWait
import time
import csv
import base64
from PIL import Image
import io
import matplotlib.pyplot as plt

#Creating the web scraper
chrome_options = Options()
chrome_options.add_experimental_option("detach", True)

def lookup_instructor(instructor_name):

    #Formatting the website to match the professor
    chrome_options = Options()
    chrome_options.add_experimental_option("detach", True)
    browser = webdriver.Chrome(options=chrome_options)
    initial_url = "https://www.google.com/search?tbm=isch&q="
    add_on = instructor_name.split()
    for term in add_on:
        initial_url += term + "+"
    url = initial_url + "cpp"

    #Going to the website
    browser.get(url)

    try:
        #Scraping the first image
        img = browser.find_element(By.XPATH,"/html/body/div[2]/c-wiz/div[3]/div[1]/div/div/div/div/div[1]/div[1]/span/div[1]/div[1]/div[1]/a[1]/div[1]/img")
        base64_string = img.get_attribute("src")
        print(base64_string)
        # Decode Base64 string
        # Extract base64 encoded image data from Data URI
        data = base64_string.split(',')[1]
        # Decode base64 data
        decoded_image = base64.b64decode(data)

        # Open the image using PIL
        image_file = io.BytesIO(decoded_image)

        # Display the image
        return image_file
    except:
        base64_string = '<img src="data:image/png;base64,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'
        data = base64_string.split(',')[1]
        # Decode base64 data
        decoded_image = base64.b64decode(data)

        # Open the image using PIL
        image_file = io.BytesIO(decoded_image)

        # Display the image
        return image_file